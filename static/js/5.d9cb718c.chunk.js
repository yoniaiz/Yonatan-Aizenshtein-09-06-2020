(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[5],{84:function(e,t,a){"use strict";var n=a(87),r=a(30),c=a(31),s=a(49),o=a(47),i=a(0),l=a.n(i),u=a(5),d=a(29),m=a(15),f=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={hasError:!1},n}return Object(c.a)(a,[{key:"componentDidCatch",value:function(e,t){console.log(e,t),this.props.reset()}},{key:"render",value:function(){return this.state.hasError?l.a.createElement(u.a,{to:"/"}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),a}(l.a.Component);t.a=Object(m.b)((function(e){return Object(n.a)(e),{}}),{reset:d.e})(f)},85:function(e,t,a){"use strict";var n=a(12),r=a(0),c=a.n(r),s=a(86);t.a=function(e){var t=e.setMeasurement,a=e.measurement,r=e.dataFor,o="c"===a?["celsius","fahrenheit"]:["fahrenheit","celsius"],i=Object(n.a)(o,2),l=i[0],u=i[1];return c.a.createElement("div",{className:"deg-measure pointer noselect","data-tip":"Change temperature display from ".concat(l," to ").concat(u),"data-for":"".concat(r,"_measure"),onClick:function(e){e.stopPropagation(),t((function(e){return"f"===e?"c":"f"}))}},c.a.createElement("span",null,"\xb0",a.toUpperCase()),c.a.createElement("span",{className:"other-deg-option"},"\xb0",u.toUpperCase()[0]),c.a.createElement(s.a,{className:"tooltip",effect:"solid",place:r?"bottom":"",type:r?"":"light",id:"".concat(r,"_measure")}))}},93:function(e,t,a){e.exports=a.p+"static/media/heartIcon.7b36ad43.png"},94:function(e,t,a){e.exports=a.p+"static/media/hearIconOutline.5bc2727a.png"},96:function(e,t,a){"use strict";a.r(t);var n=a(12),r=a(0),c=a.n(r),s=a(5),o=a(29),i=a(15),l=a(7),u=a(84),d=a(1),m=a(89),f=function(e){var t=e.selectedAddress,a=e.setSelectedAddress,n=e.setInputVal,r=e.inputVal,s=e.options,o={menu:function(e){return Object(d.a)(Object(d.a)({},e),{},{minWidth:300,maxWidth:480,width:"90%",color:"black",marginLeft:"0 auto",fontSize:"1rem",backgroundColor:"rgba(225,225,225,.8)",zIndex:1e3})},singleValue:function(e){return{}},option:function(e,t){return Object(d.a)(Object(d.a)({},e),{},{color:"black",backgroundColor:t.isSelected||t.isFocused?"rgba(225,225,225,1)":"transparent"})},control:function(e){return Object(d.a)(Object(d.a)({},e),{},{minWidth:300,maxWidth:480,width:"90%",fontSize:"1rem",borderRadius:"40px",padding:"2px 8px",margin:"0 auto",backgroundColor:"rgba(225,225,225,.8)",color:"black",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"})},indicatorsContainer:function(){return{}},dropdownIndicator:function(e,t){return Object(d.a)(Object(d.a)({},e),{},{color:"rgba(0,0,0,0.6)",":&hover":{color:"rgba(0,0,0,0.8)"}})}};return c.a.createElement(m.a,{options:s,styles:o,"data-testid":"select-input",inputId:"select-input",className:"select-input",inputValue:r,loadingMessage:"loading",placeholder:"Select country",value:s.length>0&&l.a.validObjectWithKeys(t)?s.filter((function(e){return e.value===t.value})):null,onChange:function(e){return a(Object(d.a)(Object(d.a)({},e),{},{selected:!0}))},onInputChange:function(e){/^$|[a-z A-Z]+$/.test(e)&&n(e)}})},p=function(e){var t=e.selectedAddress,a=e.setSelectedAddress,r=c.a.useState(""),s=Object(n.a)(r,2),l=s[0],u=s[1],d=c.a.useState([]),m=Object(n.a)(d,2),p=m[0],h=m[1],b=Object(i.c)(),v=Object(i.d)((function(e){return e.weather})).autocomplete;return c.a.useEffect((function(){l&&b(Object(o.d)(l))}),[l]),c.a.useEffect((function(){if(v&&v.length>0){var e=v.map((function(e){return{label:e.country&&e.address?"".concat(e.country," ").concat(e.address):e.name,city:e.address||e.name,value:e.key}}));h(e)}}),[v]),c.a.createElement("div",{className:"select-input-container"},c.a.createElement(f,{selectedAddress:t,setSelectedAddress:a,setInputVal:u,inputVal:l,options:p}))},h=a(48),b=function(e){var t=e.headline;return c.a.createElement("div",{className:"daily-description"},c.a.createElement("h3",null,t))},v=function(e){var t=e.forecast,a=t.date,n=t.maxTemp,r=t.minTemp,s=(t.day,t.night,e.measurement);return c.a.createElement("div",{"data-testid":"forecast",className:"forecast"},c.a.createElement("h4",null,l.a.getDayOfTheWeek(a)),c.a.createElement("span",null,Math.round((n[s.toLowerCase()]+r[s.toLowerCase()])/2),"\xb0",s.toUpperCase()))},O=function(e){var t=e.forecast,a=t.headline,n=t.dailyForecast,r=e.measurement;return c.a.createElement("div",{className:"forecast-container"},c.a.createElement(b,{headline:a}),c.a.createElement("div",{className:"five-day-container"},n.map((function(e,t){return c.a.createElement(v,{forecast:e,key:t,measurement:r})}))))},j=a(86),E=a(93),g=a.n(E),y=a(94),k=a.n(y),S=a(46),w=function(){var e=c.a.useState(!1),t=Object(n.a)(e,2),a=t[0],r=t[1],s=Object(i.d)((function(e){return e.weather})).currentWeather,o=JSON.parse(localStorage.getItem("favorites"))||{};c.a.useEffect((function(){if(l.a.validObjectWithKeys(o)){var e=o[parseInt(s.key)];r(!!e)}}),[s]);return c.a.createElement("div",{className:"add-to-favorite-address pointer",onClick:function(){if(a)o[s.key]&&delete o[s.key];else{var e={};e[s.key]=Object(d.a)({},s),o=Object(d.a)(Object(d.a)({},o),e),Object(S.a)("You added ".concat(s.name," to favorite list!"),"success")}localStorage.setItem("favorites",JSON.stringify(o)),r(!a)}},c.a.createElement("img",{src:a?g.a:k.a,"data-tip":a?"Remove from favorites":"Add address to favorites","data-for":"heart"}),c.a.createElement(j.a,{effect:"solid",place:"left",type:"light",id:"heart"}))},C=a(85),N=function(e){var t=e.currentWeather,a=t.name,n=t.celsius,r=t.fahrenheit,s=e.measurement,o=e.setMeasurement;return c.a.createElement("div",{className:"weather-box-header"},c.a.createElement("div",{className:"selected-address"},c.a.createElement("div",null,a),c.a.createElement("div",null,"f"===s?"".concat(r,"\xb0F"):"".concat(n,"\xb0C"))),c.a.createElement(C.a,{measurement:s,setMeasurement:o}),c.a.createElement(w,null))},W=function(){var e=Object(i.d)((function(e){return e.weather})),t=e.forecast,a=e.currentWeather,r=c.a.useState("f"),s=Object(n.a)(r,2),o=s[0],l=s[1];return 0===Object.keys(t).length||0===Object.keys(a).length?null:c.a.createElement(h.b,null,c.a.createElement(N,{currentWeather:a,measurement:o,setMeasurement:l}),c.a.createElement(O,{forecast:t,measurement:o}))},x=l.a.validObjectWithKeys;t.default=function(e){var t=e.match.params,a=Object(s.g)(),r=Object(i.d)((function(e){return e.weather})),l=r.currentLocation,d=r.favorite,m=r.currentWeather,f=Object(i.c)(),h=c.a.useState({}),b=Object(n.a)(h,2),v=b[0],O=b[1];return c.a.useEffect((function(){x(v)&&v.selected&&f(Object(o.c)(v)),!l||x(v)||t.id||O(l),!t.id||x(v)&&v.key===t.id||(t.id.match(/^[0-9]+$/)&&d[t.id]?(O(m),f(Object(o.c)(m,!1))):a.push("/"))}),[v,l]),c.a.createElement(u.a,null,c.a.createElement("div",{"data-testid":"main-page"},c.a.createElement(p,{setSelectedAddress:O,selectedAddress:v}),c.a.createElement(W,null)))}}}]);
//# sourceMappingURL=5.d9cb718c.chunk.js.map